<!DOCTYPE html>
<html>
<head>
	<style>
	pre.CODE { background-color:#000000;}
	span.PREPROCESSOR { color:#DDDDDD; }
	span.COMMENT { color:#33FF33; }
	span.KEYWORD { color:#FF33FF; }
	span.IDENTIFIER { color:#FFFFFF; }
	span.CONSTANT { color:#FF9933; }
	span.STRING { color:#EE8726; }
	span.SYMBOLS { color:#D3D3AF; }
	</style>
</head>
<body>
<pre class="CODE">
<span class="PREPROCESSOR">#include &lt;string&gt;</span>
<span class="PREPROCESSOR">#include &lt;iostream&gt;</span>
<span class="PREPROCESSOR">#include &lt;cstdio&gt;</span>
<span class="COMMENT">/*
written by Adrian Stoll 15 December 2013
TODO:
add support for multi line preprocessor derectives
add support for decimals constants ex: 1.09E-5
add support for escaped backslash at end of string literal ex: &quot;this is a backslahs: \\&quot;
add support for highlighting escaped characters
add support for inserting line numbers
*/</span>

<span class="KEYWORD">enum</span> <span class="IDENTIFIER">TokenType</span><span class="SYMBOLS">{</span><span class="IDENTIFIER">PREPROCESSOR</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">COMMENT</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">KEYWORD</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">IDENTIFIER</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">CONSTANT</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">STRING</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">SYMBOLS</span><span class="SYMBOLS">};</span>
<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span> <span class="IDENTIFIER">tokenTypeToText</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">TokenType</span> <span class="IDENTIFIER">t</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">switch</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
		<span class="KEYWORD">case</span> <span class="IDENTIFIER">PREPROCESSOR</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;PREPROCESSOR&quot;</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">case</span> <span class="IDENTIFIER">COMMENT</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;COMMENT&quot;</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">case</span> <span class="IDENTIFIER">STRING</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;STRING&quot;</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">case</span> <span class="IDENTIFIER">CONSTANT</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;CONSTANT&quot;</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">case</span> <span class="IDENTIFIER">SYMBOLS</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;SYMBOLS&quot;</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">case</span> <span class="IDENTIFIER">KEYWORD</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;KEYWORD&quot;</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">case</span> <span class="IDENTIFIER">IDENTIFIER</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;IDENTIFIER&quot;</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">default</span><span class="SYMBOLS">:</span> <span class="KEYWORD">return</span> <span class="STRING">&quot;bs&quot;</span><span class="SYMBOLS">;</span>
	<span class="SYMBOLS">}</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">struct</span> <span class="IDENTIFIER">Token</span> <span class="SYMBOLS">{</span>
	<span class="IDENTIFIER">TokenType</span> <span class="IDENTIFIER">type</span><span class="SYMBOLS">;</span>
	<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span> <span class="IDENTIFIER">contents</span><span class="SYMBOLS">;</span>
	<span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">TokenType</span> <span class="IDENTIFIER">t</span><span class="SYMBOLS">):</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
		<span class="IDENTIFIER">type</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">t</span><span class="SYMBOLS">;</span>
	<span class="SYMBOLS">}</span>
	<span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="KEYWORD">const</span> <span class="KEYWORD">char</span><span class="SYMBOLS">*</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">TokenType</span> <span class="IDENTIFIER">t</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
		<span class="IDENTIFIER">contents</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">);</span>
		<span class="IDENTIFIER">type</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">t</span><span class="SYMBOLS">;</span>
	<span class="SYMBOLS">}</span>
	<span class="KEYWORD">virtual</span> <span class="SYMBOLS">~</span><span class="IDENTIFIER">Token</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">{}</span>
<span class="SYMBOLS">};</span>
<span class="KEYWORD">bool</span> <span class="IDENTIFIER">isWhiteSpace</span><span class="SYMBOLS">(</span><span class="KEYWORD">char</span> <span class="IDENTIFIER">c</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">return</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">' '</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'\t'</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'\n'</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'\f'</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">bool</span> <span class="IDENTIFIER">isDecimalDigit</span><span class="SYMBOLS">(</span><span class="KEYWORD">char</span> <span class="IDENTIFIER">c</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">return</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'0'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;=</span> <span class="CONSTANT">'9'</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">bool</span> <span class="IDENTIFIER">isOctalDigit</span><span class="SYMBOLS">(</span><span class="KEYWORD">char</span> <span class="IDENTIFIER">c</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">return</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'0'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;</span> <span class="CONSTANT">'8'</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">bool</span> <span class="IDENTIFIER">isHexDigit</span><span class="SYMBOLS">(</span><span class="KEYWORD">char</span> <span class="IDENTIFIER">c</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">return</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'0'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;=</span> <span class="CONSTANT">'9'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">||</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'A'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;=</span> <span class="CONSTANT">'F'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">||</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'a'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;=</span> <span class="CONSTANT">'f'</span><span class="SYMBOLS">);</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">void</span> <span class="IDENTIFIER">skipWhiteSpace</span><span class="SYMBOLS">(</span><span class="KEYWORD">const</span> <span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span><span class="SYMBOLS">&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">,</span> <span class="KEYWORD">unsigned</span> <span class="KEYWORD">int</span><span class="SYMBOLS">&amp;</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">isWhiteSpace</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">])</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">())</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">bool</span> <span class="IDENTIFIER">isSymbol</span><span class="SYMBOLS">(</span><span class="KEYWORD">char</span> <span class="IDENTIFIER">c</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">const</span> <span class="KEYWORD">char</span><span class="SYMBOLS">*</span> <span class="IDENTIFIER">s</span> <span class="SYMBOLS">=</span> <span class="STRING">&quot;~!%^&amp;*()-+={[}]|:;,&lt;.&gt;/?&quot;</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">for</span><span class="SYMBOLS">(</span><span class="KEYWORD">unsigned</span> <span class="KEYWORD">int</span> <span class="IDENTIFIER">i</span> <span class="SYMBOLS">=</span> <span class="CONSTANT">0</span><span class="SYMBOLS">;</span> <span class="IDENTIFIER">i</span> <span class="SYMBOLS">&lt;</span> <span class="CONSTANT">24</span><span class="SYMBOLS">;</span> <span class="IDENTIFIER">i</span><span class="SYMBOLS">++)</span>
		<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">c</span> <span class="SYMBOLS">==</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">i</span><span class="SYMBOLS">])</span><span class="KEYWORD">return</span> <span class="KEYWORD">true</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">return</span> <span class="KEYWORD">false</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">bool</span> <span class="IDENTIFIER">isValidNameCharacter</span><span class="SYMBOLS">(</span><span class="KEYWORD">char</span> <span class="IDENTIFIER">c</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">return</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'A'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;=</span> <span class="CONSTANT">'Z'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">||</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'a'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;=</span> <span class="CONSTANT">'z'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">||</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">c</span> <span class="SYMBOLS">&gt;=</span> <span class="CONSTANT">'0'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">&lt;=</span> <span class="CONSTANT">'9'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">c</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'_'</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">bool</span> <span class="IDENTIFIER">isKeyword</span><span class="SYMBOLS">(</span><span class="KEYWORD">const</span> <span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span><span class="SYMBOLS">&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">static</span> <span class="KEYWORD">const</span> <span class="KEYWORD">char</span><span class="SYMBOLS">*</span> <span class="IDENTIFIER">keywords</span><span class="SYMBOLS">[]</span> <span class="SYMBOLS">=</span> <span class="SYMBOLS">{</span><span class="STRING">&quot;alignas&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;alignof&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;and&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;and_eq&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;asm&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;auto&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;bitand&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;bitor&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;bool&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;break&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;case&quot;</span><span class="SYMBOLS">,</span><span class="STRING">&quot;catch&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;char&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;char16_t&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;char32_t&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;class&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;compl&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;const&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;constexpr&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;const_cast&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;continue&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;decltype&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;default&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;delete&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;do&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;double&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;dynamic_cast&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;else&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;enum&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;explicit&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;export&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;extern&quot;</span><span class="SYMBOLS">,</span><span class="STRING">&quot;false&quot;</span><span class="SYMBOLS">,</span><span class="STRING">&quot;final&quot;</span><span class="SYMBOLS">,</span><span class="STRING">&quot;float&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;for&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;friend&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;goto&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;if&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;inline&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;int&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;long&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;mutable&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;namespace&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;new&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;noexcept&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;not&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;not_eq&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;nullptr&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;operator&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;or&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;or_eq&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;override&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;private&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;protected&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;public&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;register&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;reinterpret_cast&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;return&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;short&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;signed&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;sizeof&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;static&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;static_assert&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;static_cast&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;struct&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;switch&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;template&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;this&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;thread_local&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;throw&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;true&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;try&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;typedef&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;typeid&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;typename&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;union&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;unsigned&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;using&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;virtual&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;void&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;volatile&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;wchar_t&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;while&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;xor&quot;</span><span class="SYMBOLS">,</span> <span class="STRING">&quot;xor_eq&quot;</span><span class="SYMBOLS">};</span>
	<span class="KEYWORD">int</span> <span class="IDENTIFIER">min</span> <span class="SYMBOLS">=</span> <span class="CONSTANT">0</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">max</span> <span class="SYMBOLS">=</span> <span class="CONSTANT">85</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">guess</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">comp</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">max</span> <span class="SYMBOLS">&gt;=</span> <span class="IDENTIFIER">min</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
		<span class="IDENTIFIER">guess</span> <span class="SYMBOLS">=</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">min</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">max</span><span class="SYMBOLS">)/</span><span class="CONSTANT">2</span><span class="SYMBOLS">;</span>
		<span class="IDENTIFIER">comp</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">compare</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">keywords</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">guess</span><span class="SYMBOLS">]);</span>
		<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">comp</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">0</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
			<span class="KEYWORD">return</span> <span class="KEYWORD">true</span><span class="SYMBOLS">;</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">comp</span> <span class="SYMBOLS">&gt;</span> <span class="CONSTANT">0</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
			<span class="IDENTIFIER">min</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">guess</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">;</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="SYMBOLS">{</span>
			<span class="IDENTIFIER">max</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">guess</span> <span class="SYMBOLS">-</span> <span class="CONSTANT">1</span><span class="SYMBOLS">;</span>
		<span class="SYMBOLS">}</span>
	<span class="SYMBOLS">}</span>
	<span class="KEYWORD">return</span> <span class="KEYWORD">false</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="KEYWORD">const</span> <span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span><span class="SYMBOLS">&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span> <span class="IDENTIFIER">ret</span> <span class="SYMBOLS">=</span> <span class="STRING">&quot;&quot;</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">for</span><span class="SYMBOLS">(</span><span class="KEYWORD">unsigned</span> <span class="KEYWORD">int</span> <span class="IDENTIFIER">i</span> <span class="SYMBOLS">=</span> <span class="CONSTANT">0</span><span class="SYMBOLS">;</span> <span class="IDENTIFIER">i</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">();</span> <span class="IDENTIFIER">i</span><span class="SYMBOLS">++)</span> <span class="SYMBOLS">{</span>
		<span class="KEYWORD">switch</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">i</span><span class="SYMBOLS">])</span> <span class="SYMBOLS">{</span>
			<span class="KEYWORD">case</span> <span class="CONSTANT">'&quot;'</span><span class="SYMBOLS">:</span> <span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="STRING">&quot;&amp;quot;&quot;</span><span class="SYMBOLS">;</span> <span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="CONSTANT">'&amp;'</span><span class="SYMBOLS">:</span> <span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="STRING">&quot;&amp;amp;&quot;</span><span class="SYMBOLS">;</span> <span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="CONSTANT">'&lt;'</span><span class="SYMBOLS">:</span> <span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="STRING">&quot;&amp;lt;&quot;</span><span class="SYMBOLS">;</span> <span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="CONSTANT">'&gt;'</span><span class="SYMBOLS">:</span> <span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="STRING">&quot;&amp;gt;&quot;</span><span class="SYMBOLS">;</span> <span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">default</span><span class="SYMBOLS">:</span> <span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">i</span><span class="SYMBOLS">];</span>
		<span class="SYMBOLS">}</span>
	<span class="SYMBOLS">}</span>
	<span class="KEYWORD">return</span> <span class="IDENTIFIER">ret</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="IDENTIFIER">Token</span> <span class="IDENTIFIER">getNextToken</span><span class="SYMBOLS">(</span><span class="KEYWORD">const</span> <span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span><span class="SYMBOLS">&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">,</span> <span class="KEYWORD">unsigned</span> <span class="KEYWORD">int</span><span class="SYMBOLS">&amp;</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span> <span class="IDENTIFIER">temp</span> <span class="SYMBOLS">=</span> <span class="STRING">&quot;&quot;</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">unsigned</span> <span class="KEYWORD">int</span> <span class="IDENTIFIER">start</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">bool</span> <span class="IDENTIFIER">escaped</span> <span class="SYMBOLS">=</span> <span class="KEYWORD">false</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">())</span> <span class="SYMBOLS">{</span>
		<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
			<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'*'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//comment</span>
				<span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+=</span> <span class="CONSTANT">2</span><span class="SYMBOLS">;</span>
				<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//single line comment (get everythinig up to end of line)</span>
					<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">!=</span> <span class="CONSTANT">'\n'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>	<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
					<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">),</span><span class="IDENTIFIER">COMMENT</span><span class="SYMBOLS">);</span>
				<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="SYMBOLS">{</span>		<span class="COMMENT">//multiline comment	(get everything until closing comment, or end of file)</span>
					<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">!(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&gt;</span> <span class="IDENTIFIER">start</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">2</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="CONSTANT">2</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'*'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span><span class="SYMBOLS">))</span> <span class="SYMBOLS">{</span>	<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
					<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">),</span><span class="IDENTIFIER">COMMENT</span><span class="SYMBOLS">);</span>
				<span class="SYMBOLS">}</span>
			<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="SYMBOLS">{</span>		<span class="COMMENT">//operator	(must be the '/' operator</span>
				<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>
				<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="STRING">&quot;/&quot;</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">SYMBOLS</span><span class="SYMBOLS">);</span>
			<span class="SYMBOLS">}</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'#'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//preprocessor directive (get everything until end of line, end of file, or start of a comment</span>
			<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">!=</span> <span class="CONSTANT">'\n'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">!(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'*'</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span><span class="SYMBOLS">)))</span> <span class="SYMBOLS">{</span>	<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
			<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">),</span><span class="IDENTIFIER">PREPROCESSOR</span><span class="SYMBOLS">);</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'&quot;'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//string literal (get everything until closing quoteation mark or end of file, ignore escaped quotes)</span>
			<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">!(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'&quot;'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">!=</span> <span class="CONSTANT">'\\'</span><span class="SYMBOLS">))</span> <span class="SYMBOLS">{</span>	<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
			<span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+=</span> <span class="CONSTANT">2</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">),</span><span class="IDENTIFIER">STRING</span><span class="SYMBOLS">);</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">isDecimalDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//numerical constant (get until end of number)</span>
			<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'0'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">2</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">())</span> <span class="SYMBOLS">{</span>
				<span class="KEYWORD">if</span><span class="SYMBOLS">((</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'o'</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'O'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isOctalDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">2</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//octal digit</span>
					<span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+=</span> <span class="CONSTANT">3</span><span class="SYMBOLS">;</span>
					<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isOctalDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
				<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">((</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'x'</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'X'</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isHexDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">2</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//hex digit</span>
					<span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+=</span> <span class="CONSTANT">3</span><span class="SYMBOLS">;</span>
					<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isHexDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
				<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="SYMBOLS">{</span>
					<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isDecimalDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
				<span class="SYMBOLS">}</span>
			<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="SYMBOLS">{</span>
				<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isDecimalDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
			<span class="SYMBOLS">}</span>
			<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">),</span> <span class="IDENTIFIER">CONSTANT</span><span class="SYMBOLS">);</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'\''</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>		<span class="COMMENT">//character literal</span>
			<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>
			<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">!=</span> <span class="CONSTANT">'\''</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">escaped</span><span class="SYMBOLS">))</span> <span class="SYMBOLS">{</span>
				<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'\\'</span><span class="SYMBOLS">)</span> <span class="IDENTIFIER">escaped</span> <span class="SYMBOLS">=</span> <span class="SYMBOLS">!</span><span class="IDENTIFIER">escaped</span><span class="SYMBOLS">;</span>
				<span class="KEYWORD">else</span> <span class="IDENTIFIER">escaped</span> <span class="SYMBOLS">=</span> <span class="KEYWORD">false</span><span class="SYMBOLS">;</span>
				<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>
			<span class="SYMBOLS">}</span>
			<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>
			<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">),</span> <span class="IDENTIFIER">CONSTANT</span><span class="SYMBOLS">);</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">isSymbol</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//get all symbols (stop at first non symbol or comment</span>
			<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>
			<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isSymbol</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">])</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">!(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'/'</span> <span class="SYMBOLS">||</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">==</span> <span class="CONSTANT">'*'</span><span class="SYMBOLS">)))</span> <span class="SYMBOLS">{</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
			<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">),</span> <span class="IDENTIFIER">SYMBOLS</span><span class="SYMBOLS">);</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">isValidNameCharacter</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">])</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">!</span><span class="IDENTIFIER">isDecimalDigit</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span>	<span class="COMMENT">//keyword, or identifier</span>
			<span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>
			<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">isValidNameCharacter</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;</span>	<span class="SYMBOLS">}</span>
			<span class="IDENTIFIER">temp</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">);</span>
			<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">isKeyword</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">temp</span><span class="SYMBOLS">))</span> <span class="SYMBOLS">{</span>
				<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">temp</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">KEYWORD</span><span class="SYMBOLS">);</span>
			<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="SYMBOLS">{</span>
				<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">temp</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">IDENTIFIER</span><span class="SYMBOLS">);</span>			
			<span class="SYMBOLS">}</span>
		<span class="SYMBOLS">}</span><span class="KEYWORD">else</span> <span class="SYMBOLS">{</span>
			<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">()</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">!=</span> <span class="CONSTANT">'/'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">!=</span> <span class="CONSTANT">'&quot;'</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">!</span><span class="IDENTIFIER">isValidNameCharacter</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">])</span> <span class="SYMBOLS">&amp;&amp;</span> <span class="SYMBOLS">!</span><span class="IDENTIFIER">isSymbol</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">]))</span> <span class="SYMBOLS">{</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">++;}</span>
			<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="STRING">&quot;//not writen yet&quot;</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">COMMENT</span><span class="SYMBOLS">);</span>
		<span class="SYMBOLS">}</span>
	<span class="SYMBOLS">}</span>
	<span class="KEYWORD">return</span> <span class="IDENTIFIER">Token</span><span class="SYMBOLS">(</span><span class="STRING">&quot;//end&quot;</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">COMMENT</span><span class="SYMBOLS">);</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">void</span> <span class="IDENTIFIER">htmlPrettyPrint</span><span class="SYMBOLS">(</span><span class="KEYWORD">const</span> <span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span><span class="SYMBOLS">&amp;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">unsigned</span> <span class="KEYWORD">int</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">=</span> <span class="CONSTANT">0</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">;</span>
	<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span> <span class="IDENTIFIER">ret</span> <span class="SYMBOLS">=</span> <span class="STRING">&quot;&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n	&lt;style&gt;\n	pre.CODE { background-color:#000000;}\n	span.PREPROCESSOR { color:#DDDDDD; }\n	span.COMMENT { color:#33FF33; }\n	span.KEYWORD { color:#FF33FF; }\n	span.IDENTIFIER { color:#FFFFFF; }\n	span.CONSTANT { color:#FF9933; }\n	span.STRING { color:#EE8726; }\n	span.SYMBOLS { color:#D3D3AF; }\n	&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre class=\&quot;CODE\&quot;&gt;\n&quot;</span><span class="SYMBOLS">;</span>
	<span class="KEYWORD">while</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">pos</span> <span class="SYMBOLS">&lt;</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">length</span><span class="SYMBOLS">())</span> <span class="SYMBOLS">{</span>
		<span class="IDENTIFIER">start</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">;</span>
		<span class="IDENTIFIER">skipWhiteSpace</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span><span class="SYMBOLS">);</span>		<span class="COMMENT">//skip initial whitespace</span>
		<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="IDENTIFIER">s</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">substr</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">start</span><span class="SYMBOLS">,</span> <span class="IDENTIFIER">pos</span> <span class="SYMBOLS">-</span> <span class="IDENTIFIER">start</span><span class="SYMBOLS">);</span>
		<span class="IDENTIFIER">Token</span> <span class="IDENTIFIER">t</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">getNextToken</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">s</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">pos</span><span class="SYMBOLS">);</span>
		<span class="KEYWORD">switch</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">type</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
			<span class="KEYWORD">case</span> <span class="IDENTIFIER">PREPROCESSOR</span><span class="SYMBOLS">:</span>
				<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="SYMBOLS">(</span><span class="STRING">&quot;&lt;span class=\&quot;PREPROCESSOR\&quot;&gt;&quot;</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">+</span> <span class="STRING">&quot;&lt;/span&gt;&quot;</span><span class="SYMBOLS">);</span>
				<span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="IDENTIFIER">COMMENT</span><span class="SYMBOLS">:</span>
				<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="SYMBOLS">(</span><span class="STRING">&quot;&lt;span class=\&quot;COMMENT\&quot;&gt;&quot;</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">+</span> <span class="STRING">&quot;&lt;/span&gt;&quot;</span><span class="SYMBOLS">);</span>
				<span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="IDENTIFIER">STRING</span><span class="SYMBOLS">:</span>
				<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="SYMBOLS">(</span><span class="STRING">&quot;&lt;span class=\&quot;STRING\&quot;&gt;&quot;</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">+</span> <span class="STRING">&quot;&lt;/span&gt;&quot;</span><span class="SYMBOLS">);</span>
				<span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="IDENTIFIER">CONSTANT</span><span class="SYMBOLS">:</span>
				<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="SYMBOLS">(</span><span class="STRING">&quot;&lt;span class=\&quot;CONSTANT\&quot;&gt;&quot;</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">+</span> <span class="STRING">&quot;&lt;/span&gt;&quot;</span><span class="SYMBOLS">);</span>
				<span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="IDENTIFIER">SYMBOLS</span><span class="SYMBOLS">:</span>
				<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="SYMBOLS">(</span><span class="STRING">&quot;&lt;span class=\&quot;SYMBOLS\&quot;&gt;&quot;</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">+</span> <span class="STRING">&quot;&lt;/span&gt;&quot;</span><span class="SYMBOLS">);</span>
				<span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="IDENTIFIER">KEYWORD</span><span class="SYMBOLS">:</span>
				<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="SYMBOLS">(</span><span class="STRING">&quot;&lt;span class=\&quot;KEYWORD\&quot;&gt;&quot;</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">+</span> <span class="STRING">&quot;&lt;/span&gt;&quot;</span><span class="SYMBOLS">);</span>
				<span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">case</span> <span class="IDENTIFIER">IDENTIFIER</span><span class="SYMBOLS">:</span>
				<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="SYMBOLS">(</span><span class="STRING">&quot;&lt;span class=\&quot;IDENTIFIER\&quot;&gt;&quot;</span> <span class="SYMBOLS">+</span> <span class="IDENTIFIER">insertEntityReferences</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">t</span><span class="SYMBOLS">.</span><span class="IDENTIFIER">contents</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">+</span> <span class="STRING">&quot;&lt;/span&gt;&quot;</span><span class="SYMBOLS">);</span>
				<span class="KEYWORD">break</span><span class="SYMBOLS">;</span>
			<span class="KEYWORD">default</span><span class="SYMBOLS">:;</span>		
		<span class="SYMBOLS">}</span>
	<span class="SYMBOLS">}</span>
	<span class="IDENTIFIER">ret</span> <span class="SYMBOLS">+=</span> <span class="STRING">&quot;&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;&quot;</span><span class="SYMBOLS">;</span>
	<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">cout</span> <span class="SYMBOLS">&lt;&lt;</span> <span class="IDENTIFIER">ret</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span>
<span class="KEYWORD">int</span> <span class="IDENTIFIER">main</span><span class="SYMBOLS">(</span><span class="KEYWORD">int</span> <span class="IDENTIFIER">argc</span><span class="SYMBOLS">,</span> <span class="KEYWORD">const</span> <span class="KEYWORD">char</span><span class="SYMBOLS">**</span> <span class="IDENTIFIER">argv</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
	<span class="KEYWORD">if</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">argc</span> <span class="SYMBOLS">!=</span> <span class="CONSTANT">2</span><span class="SYMBOLS">)</span> <span class="SYMBOLS">{</span>
		<span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">cout</span> <span class="SYMBOLS">&lt;&lt;</span> <span class="STRING">&quot;usage: main src.cpp&quot;</span> <span class="SYMBOLS">&lt;&lt;</span> <span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">endl</span><span class="SYMBOLS">;</span>
		<span class="KEYWORD">return</span> <span class="CONSTANT">0</span><span class="SYMBOLS">;</span>
	<span class="SYMBOLS">}</span>
	<span class="IDENTIFIER">FILE</span><span class="SYMBOLS">*</span> <span class="IDENTIFIER">f</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">fopen</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">argv</span><span class="SYMBOLS">[</span><span class="CONSTANT">1</span><span class="SYMBOLS">],</span><span class="STRING">&quot;r&quot;</span><span class="SYMBOLS">);</span>
	<span class="KEYWORD">if</span><span class="SYMBOLS">(!</span><span class="IDENTIFIER">f</span><span class="SYMBOLS">)</span><span class="KEYWORD">return</span> <span class="CONSTANT">0</span><span class="SYMBOLS">;</span>
	<span class="IDENTIFIER">fseek</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">f</span><span class="SYMBOLS">,</span><span class="CONSTANT">0</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">SEEK_END</span><span class="SYMBOLS">);</span>
	<span class="IDENTIFIER">size_t</span> <span class="IDENTIFIER">size</span> <span class="SYMBOLS">=</span> <span class="IDENTIFIER">ftell</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">f</span><span class="SYMBOLS">);</span>
	<span class="IDENTIFIER">fseek</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">f</span><span class="SYMBOLS">,</span><span class="CONSTANT">0</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">SEEK_SET</span><span class="SYMBOLS">);</span>
	<span class="KEYWORD">char</span><span class="SYMBOLS">*</span> <span class="IDENTIFIER">data</span> <span class="SYMBOLS">=</span> <span class="KEYWORD">new</span> <span class="KEYWORD">char</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">size</span> <span class="SYMBOLS">+</span> <span class="CONSTANT">1</span><span class="SYMBOLS">];</span>
	<span class="IDENTIFIER">fread</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">data</span><span class="SYMBOLS">,</span><span class="CONSTANT">1</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">size</span><span class="SYMBOLS">,</span><span class="IDENTIFIER">f</span><span class="SYMBOLS">);</span>
	<span class="IDENTIFIER">fclose</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">f</span><span class="SYMBOLS">);</span>
	<span class="IDENTIFIER">data</span><span class="SYMBOLS">[</span><span class="IDENTIFIER">size</span><span class="SYMBOLS">]</span> <span class="SYMBOLS">=</span> <span class="CONSTANT">'\0'</span><span class="SYMBOLS">;</span>
	<span class="IDENTIFIER">htmlPrettyPrint</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">std</span><span class="SYMBOLS">::</span><span class="IDENTIFIER">string</span><span class="SYMBOLS">(</span><span class="IDENTIFIER">data</span><span class="SYMBOLS">));</span>
	<span class="KEYWORD">return</span> <span class="CONSTANT">0</span><span class="SYMBOLS">;</span>
<span class="SYMBOLS">}</span></pre>
</body>
</html>